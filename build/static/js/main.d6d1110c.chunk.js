(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,r){},164:function(e,t,r){"use strict";r.r(t);var a,c,n=r(0),o=r.n(n),i=r(6),s=r.n(i),l=r(28),d=r(7),u=r(67),m=(r(82),r(13)),y="GET_GROCERIES_SUCCESS",h="ADD_GROCERY_SUCCESS",b="DELETE_GROCERY_SUCCESS",g="BUY_GROCERY_SUCCESS",E="EDIT_GROCERY_SUCCESS",p={groceries:[]},f={purchased:!1};var w=Object(d.c)({groceries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.groceries,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.groceries;case h:return Object(m.a)(e).concat([Object.assign({},t.grocery)]);case b:return Object(m.a)(e.filter(function(e){return e._id!==t.groceryId}));case g:return c=(a=e).findIndex(function(e){return e._id===t.groceryId}),(f=a[c]).purchased=!0,a=Object(m.a)(a.slice(0,c)).concat([f],Object(m.a)(a.slice(c+1)));case E:return c=(a=e).findIndex(function(e){return e._id===t.groceryId}),f=t.grocery,a=Object(m.a)(a.slice(0,c)).concat([f],Object(m.a)(a.slice(c+1)));default:return e}}}),N=(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),r(14)),v=r.n(N),O=r(10),G=r.n(O),j=function(e){return function(t){return v()({method:"POST",url:"/api/v1/items",data:e}).then(function(e){var r;G.a.success(e.data.message),t((r=e.data.grocery,{type:h,grocery:r}))}).catch(function(e){G.a.error(e)})}},S=function(e){return function(t){return v()({method:"DELETE",url:"/api/v1/items/".concat(e)}).then(function(r){G.a.success(r.data.message),t(function(e){return{type:b,groceryId:e}}(e))}).catch(function(e){G.a.error(e)})}},P=function(e){return function(t){return v()({method:"PUT",url:"/api/v1/items/".concat(e)}).then(function(r){G.a.success(r.data.message),t(function(e){return{type:g,groceryId:e}}(e))}).catch(function(e){G.a.error(e)})}},_=function(e,t){return function(r){return v()({method:"PATCH",url:"/api/v1/items/".concat(e),data:t}).then(function(t){G.a.success(t.data.message),r(function(e,t){return{type:E,groceryId:e,grocery:t}}(e,t.data.item))}).catch(function(e){G.a.error(e)})}},C=(r(107),r(24)),k=r(25),D=r(30),T=r(26),x=r(29),I=r(68),R=r(2),B=r(166),H=function(e){var t=e.errors,r=e.addGrocery,a=e.editGrocery,c=e.updateDetails,n=e.show,i=e.onHide,s=e.groceryName,l=e.groceryPrice,d=e.grocery;return o.a.createElement("div",null,o.a.createElement(B.a,{show:n,onHide:i,"aria-labelledby":"contained-modal-title"},o.a.createElement(B.a.Header,{closeButton:!0},o.a.createElement(B.a.Title,{id:"contained-modal-title"},"Grocery Details")),o.a.createElement(B.a.Body,{style:{width:"100%",marginLeft:"auto",marginRight:"auto"}},o.a.createElement("label",{htmlFor:"name",className:"active"},"Grocery Name:"),t.groceryName&&o.a.createElement("span",{className:"alert-danger"},o.a.createElement("br",null),t.groceryName),o.a.createElement("input",{type:"text",className:"form-control",defaultValue:s||"",id:"groceryName",name:"groceryName",required:!0,onChange:c}),o.a.createElement("br",null),o.a.createElement("label",{htmlFor:"name",className:"active"},"Grocery Price (\u20a6):"),t.groceryPrice&&o.a.createElement("span",{className:"alert-danger"},o.a.createElement("br",null),t.groceryPrice),o.a.createElement("input",{type:"number",className:"form-control",defaultValue:l||"",id:"groceryPrice",name:"groceryPrice",required:!0,onChange:c})),o.a.createElement(B.a.Footer,null,d.id?o.a.createElement("button",{type:"submit",id:"add-grocery",className:"waves-effect waves-dark btn right hoverable dark-green btn btn-primary",onClick:function(){return a(d)}},"Edit Item"):o.a.createElement("button",{type:"submit",id:"add-grocery",className:"waves-effect waves-dark btn right hoverable dark-green btn btn-primary",onClick:r},"Add Item"))))},U=function(e){var t=e.groceries,r=0;return t.map(function(e){if(e.purchased)return r+=e.price}),o.a.createElement("div",null,o.a.createElement("p",null,"Total Price: \u20a6 ",r))},L=function(e){var t=e.groceries,r=e.deleteGrocery,a=e.buyGrocery,c=e.onShow;return o.a.createElement("div",null,o.a.createElement("table",{className:"table text-center table-hover mx-auto bg-white table-responsive-sm table-striped",style:{marginLeft:"25%",marginRight:"10%",width:"50%"}},o.a.createElement("thead",{className:"text-center text-white bg-info border border-white"},o.a.createElement("tr",{className:"p-3"},o.a.createElement("th",{scope:"col",className:"border border-white"},"S/N"),o.a.createElement("th",{scope:"col",className:"border border-white"},"Grocery Name"),o.a.createElement("th",{scope:"col",className:"border border-white"},"Price"),o.a.createElement("th",{scope:"col",className:"border border-white"}),o.a.createElement("th",{scope:"col",className:"border border-white"}),o.a.createElement("th",{scope:"col",className:"border border-white"}))),o.a.createElement("tbody",null,t.map(function(e,t){return o.a.createElement("tr",{id:"#1",key:t,index:t,className:"border border-white text-left"},o.a.createElement("td",{className:"border border-white"},t+1),o.a.createElement("td",null,e.name),o.a.createElement("td",null,"\u20a6 ",e.price),o.a.createElement("td",null,o.a.createElement("input",{type:"submit",disabled:e.purchased,value:e.purchased?"Bought":"Buy",className:"btn btn-primary",onClick:function(){return a(e._id)}})),o.a.createElement("td",null,o.a.createElement("button",{type:"button",className:"btn-warning btn-sm",onClick:function(){return c(e)}},"Edit Product")),o.a.createElement("td",null,o.a.createElement("button",{type:"button",className:"btn-danger btn-sm",onClick:function(){return r(e._id)}},"Delete Product")))}))))},A=function(e){function t(e){var r;return Object(C.a)(this,t),(r=Object(D.a)(this,Object(T.a)(t).call(this,e))).state={show:!1,showEdit:!1,groceryName:"",groceryPrice:"",errors:{},grocery:{}},r.handleHide=r.handleHide.bind(Object(R.a)(Object(R.a)(r))),r.updateDetails=r.updateDetails.bind(Object(R.a)(Object(R.a)(r))),r.addGrocery=r.addGrocery.bind(Object(R.a)(Object(R.a)(r))),r.editGrocery=r.editGrocery.bind(Object(R.a)(Object(R.a)(r))),r.onDelete=r.onDelete.bind(Object(R.a)(Object(R.a)(r))),r.onBuy=r.onBuy.bind(Object(R.a)(Object(R.a)(r))),r.handleShowEdit=r.handleShowEdit.bind(Object(R.a)(Object(R.a)(r))),r}return Object(x.a)(t,e),Object(k.a)(t,[{key:"handleHide",value:function(){this.setState({groceryName:"",groceryPrice:"",show:!1})}},{key:"handleShowEdit",value:function(e){this.setState({groceryName:e.name,groceryPrice:e.price,show:!0,grocery:e})}},{key:"addGrocery",value:function(e){e.preventDefault();var t=this.state,r=t.groceryName,a=t.groceryPrice,c=t.errors;if(""!==r&&null!==a){var n={groceryName:this.state.groceryName,groceryPrice:this.state.groceryPrice};this.props.addGrocery(n),this.setState({show:!1,groceryName:"",groceryPrice:"",errors:{}})}else""===r&&(c.groceryName="Please fill in the grocery name"),""===a&&(c.groceryPrice="Please fill in the grocery price"),this.setState({errors:c})}},{key:"editGrocery",value:function(e){var t=this.state,r=t.groceryName,a=t.groceryPrice,c=t.errors;if(""!==r&&null!==a){var n={groceryName:this.state.groceryName,groceryPrice:this.state.groceryPrice};this.props.editGrocery(e._id,n),this.setState({show:!1,groceryName:"",groceryPrice:"",errors:{}})}else""===r&&(c.groceryName="Please fill in the grocery name"),""===a&&(c.groceryPrice="Please fill in the grocery price"),this.setState({errors:c})}},{key:"updateDetails",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"onDelete",value:function(e){this.props.deleteGrocery(e)}},{key:"onBuy",value:function(e){this.props.buyGrocery(e)}},{key:"render",value:function(){var e=this,t=this.state.errors;return o.a.createElement("div",null,o.a.createElement("h1",{className:"text-center"},"Grocery Listing  "),o.a.createElement("div",{className:"p-3 mb-2 bg-info text-white",style:{float:"right",padding:"2%"}},o.a.createElement("h4",null,o.a.createElement(U,{groceries:this.props.groceries}))),o.a.createElement(L,{groceries:this.props.groceries,addGrocery:this.addGrocery,deleteGrocery:this.onDelete,buyGrocery:this.onBuy,onShow:this.handleShowEdit}),o.a.createElement(H,{errors:t,addGrocery:this.addGrocery,editGrocery:this.editGrocery,updateDetails:this.updateDetails,onHide:this.handleHide,show:this.state.show,groceryName:this.state.groceryName,groceryPrice:this.state.groceryPrice,grocery:this.state.grocery}),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{className:"btn btn-lg btn-primary ",onClick:function(){return e.setState({show:!0})}},"Add Grocery")))}}]),t}(n.Component),Y=Object(l.b)(function(e){return{groceries:e.groceries}},function(e){return Object(d.b)({addGrocery:j,deleteGrocery:S,buyGrocery:P,editGrocery:_},e)})(A),V=function(e){function t(){return Object(C.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(Y,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=Object(d.d)(Object(d.a)(u.a),window.devToolsExtension?window.devToolsExtension():function(e){return e})(d.e)(w);X.dispatch(function(e){return v()({method:"GET",url:"/api/v1/items"}).then(function(t){var r;e((r=t.data.data,{type:y,groceries:r}))}).catch(function(e){console.log(e)})}),s.a.render(o.a.createElement(l.a,{store:X},o.a.createElement(V,null)),document.getElementById("root"))},72:function(e,t,r){e.exports=r(164)}},[[72,2,1]]]);
//# sourceMappingURL=main.d6d1110c.chunk.js.map